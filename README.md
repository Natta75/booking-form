# üìã –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–µ–±-—Ñ–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ Google –¢–∞–±–ª–∏—Ü–∞—Ö –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º 152-–§–ó –†–§.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **5 –∏—Ç–µ—Ä–∞—Ü–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** - –æ—Ç –±–∞–∑–æ–≤–æ–π HTML —Ñ–æ—Ä–º—ã –¥–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
- üì± **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö
- üìä **Google Sheets** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü—É
- üõ°Ô∏è **reCAPTCHA v3** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ –∏ –±–æ—Ç–æ–≤
- üîí **152-–§–ó –†–§** - –ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É –æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üé® **–ö—Ä–∞—Å–∏–≤—ã–π UI** - –∞–Ω–∏–º–∞—Ü–∏–∏, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Ü–≤–µ—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- üöÄ **Production-ready** - –≥–æ—Ç–æ–≤ –∫ deployment –Ω–∞ Timeweb

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/home/sernatalia/booking/
‚îú‚îÄ‚îÄ index.html                     # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ñ–æ—Ä–º–æ–π
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ styles.css                 # –í—Å–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ validation.js              # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ submission.js              # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ animations.js              # –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ UX
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ server.js                  # Express —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ telegram.js                # Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ sheets.js                  # Google Sheets –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ validation.js              # –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config.js                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ logger.js                  # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ getChatId.js               # –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Chat ID
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ google-credentials.json    # Google API –∫–ª—é—á–∏ (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ privacy-policy.html        # –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ consent.html               # –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î
‚îú‚îÄ‚îÄ .env                           # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ .env.example                   # –®–∞–±–ª–æ–Ω –¥–ª—è .env
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ deploy.sh                      # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/Natta75/booking-form.git
cd booking-form
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

```env
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:3000

TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

GOOGLE_SHEET_ID=your_sheet_id_here

RECAPTCHA_SITE_KEY=your_site_key_here
RECAPTCHA_SECRET_KEY=your_secret_key_here
```

### 4. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:3000

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### Telegram Bot

1. –ù–∞–π–¥–∏—Ç–µ **@BotFather** –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –£–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ username –±–æ—Ç–∞
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **Bot Token**
5. –ü–æ–ª—É—á–∏—Ç–µ **Chat ID**:

```bash
node backend/getChatId.js
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
```

6. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –∏ Chat ID –≤ `.env`

### Google Sheets

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –í–∫–ª—é—á–∏—Ç–µ **Google Sheets API**
4. –°–æ–∑–¥–∞–π—Ç–µ **Service Account**
5. –°–∫–∞—á–∞–π—Ç–µ JSON –∫–ª—é—á ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `config/google-credentials.json`
6. –°–æ–∑–¥–∞–π—Ç–µ Google Sheet —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏:
   - A: Timestamp
   - B: Name
   - C: Phone
   - D: Email
   - E: Date
   - F: IP Address
7. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ç–∞–±–ª–∏—Ü–µ–π —Å email –∏–∑ Service Account (–¥–∞—Ç—å –ø—Ä–∞–≤–∞ Editor)
8. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Sheet ID –∏–∑ URL ‚Üí –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`

### Google reCAPTCHA v3

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [reCAPTCHA Admin](https://www.google.com/recaptcha/admin)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–∞–π—Ç:
   - –¢–∏–ø: **reCAPTCHA v3**
   - –î–æ–º–µ–Ω—ã: `localhost` (–¥–ª—è dev) –∏ `yourdomain.ru` (–¥–ª—è prod)
3. –ü–æ–ª—É—á–∏—Ç–µ **Site Key** –∏ **Secret Key**
4. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏ –≤ `.env`

## üìù –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 152-–§–ó

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ production **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ** –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:

- `docs/privacy-policy.html` - –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ `[–£–∫–∞–∂–∏—Ç–µ...]` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `docs/consent.html` - –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ `[–£–∫–∞–∂–∏—Ç–µ...]` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–¢—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å:**
- –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏/–ò–ü
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π email
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω

## üåê Deployment –Ω–∞ Timeweb

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh user@your-server-ip

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
sudo apt update && sudo apt upgrade -y
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs nginx git
sudo npm install -g pm2
sudo apt install -y certbot python3-certbot-nginx
```

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sudo mkdir -p /var/www/booking
sudo chown -R $USER:$USER /var/www/booking

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
cd /var/www/booking
git clone https://github.com/Natta75/booking-form.git .

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install --production

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
nano .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è production

# –ó–∞–≥—Ä—É–∑–∫–∞ Google credentials (—á–µ—Ä–µ–∑ SCP —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã)
# scp /path/to/google-credentials.json user@server:/var/www/booking/config/
chmod 600 config/google-credentials.json
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx

```bash
sudo nano /etc/nginx/sites-available/booking
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```nginx
server {
    listen 80;
    server_name yourdomain.ru www.yourdomain.ru;

    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    location / {
        root /var/www/booking;
        index index.html;
        try_files $uri $uri/ =404;
    }

    # API –ø—Ä–æ–∫—Å–∏
    location /api/ {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Security headers
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;

    # Compression
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml;
}
```

–ê–∫—Ç–∏–≤–∞—Ü–∏—è:

```bash
sudo ln -s /etc/nginx/sites-available/booking /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

```bash
sudo certbot --nginx -d yourdomain.ru -d www.yourdomain.ru
```

### PM2 –∑–∞–ø—É—Å–∫

```bash
cd /var/www/booking

# –ó–∞–ø—É—Å–∫
pm2 start backend/server.js --name booking-form

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
pm2 save
pm2 startup systemd

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 status
pm2 logs booking-form
```

### Firewall

```bash
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /var/www/booking
chmod +x deploy.sh
./deploy.sh
```

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev          # –ó–∞–ø—É—Å–∫ —Å nodemon
npm start            # –ó–∞–ø—É—Å–∫ production

# PM2
pm2 logs booking-form     # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 restart booking-form  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 stop booking-form     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 monit                 # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

# –õ–æ–≥–∏
tail -f logs/combined.log  # –í—Å–µ –ª–æ–≥–∏
tail -f logs/error.log     # –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ ‚Üí –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –æ—à–∏–±–∫–∏
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
   - –ó–∞–ø–∏—Å—å –≤ Google Sheets
   - –ë–ª–∞–≥–æ–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ HTTPS (SSL/TLS) —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Helmet security headers
- ‚úÖ Rate limiting (5 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 15 –º–∏–Ω—É—Ç)
- ‚úÖ CORS –∑–∞—â–∏—Ç–∞
- ‚úÖ Input sanitization
- ‚úÖ reCAPTCHA v3 –∞–Ω—Ç–∏–±–æ—Ç –∑–∞—â–∏—Ç–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë§ –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Claude Code

---

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
